# ============================================================================
# SERVER CONFIGURATION
# ============================================================================
NODE_ENV=development
PORT=3000
HOST=localhost

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# PostgreSQL connection string format:
# postgresql://username:password@host:port/database_name
DATABASE_URL=postgresql://resistance_user:your_secure_password@localhost:5432/resistance_hub

# Connection pool settings
DATABASE_POOL_MAX=10
DATABASE_POOL_MIN=2

# ============================================================================
# JWT / AUTHENTICATION CONFIGURATION
# ============================================================================
# Generate a secure random string for production (at least 32 characters)
# Example: openssl rand -hex 32
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# JWT token expiration (in seconds)
JWT_EXPIRY=3600

# Refresh token expiration (in seconds)
JWT_REFRESH_EXPIRY=604800

# Password requirements
PASSWORD_MIN_LENGTH=12
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBER=true
PASSWORD_REQUIRE_SPECIAL=true

# ============================================================================
# SECURITY & CORS
# ============================================================================
# CORS allowed origins (comma-separated for multiple origins)
CORS_ORIGIN=http://localhost:5173,http://localhost:3000

# Rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Login rate limiting
LOGIN_RATE_LIMIT_WINDOW_MS=900000
LOGIN_RATE_LIMIT_MAX_ATTEMPTS=5

# ============================================================================
# EMAIL CONFIGURATION
# ============================================================================
# Email service settings (for user verification, password reset, etc.)
EMAIL_SERVICE=smtp
EMAIL_HOST=smtp.example.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=noreply@example.com
EMAIL_PASSWORD=your-email-password
EMAIL_FROM=Resistance Hub <noreply@example.com>

# Email verification
EMAIL_VERIFICATION_ENABLED=true
EMAIL_VERIFICATION_EXPIRY_HOURS=24

# Password reset
PASSWORD_RESET_ENABLED=true
PASSWORD_RESET_EXPIRY_HOURS=2

# ============================================================================
# RSS FEED CONFIGURATION
# ============================================================================
# Polling interval in minutes
FEED_POLL_INTERVAL_MINUTES=15

# Maximum feed items to store per source
FEED_MAX_ITEMS_PER_SOURCE=1000

# ============================================================================
# FILE UPLOAD CONFIGURATION
# ============================================================================
# Maximum file size in bytes (10MB default)
MAX_FILE_SIZE=10485760

# Allowed file types (comma-separated)
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,application/pdf

# Upload directory
UPLOAD_DIR=./uploads

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================
# Log level: error, warn, info, http, verbose, debug, silly
LOG_LEVEL=info

# Log file directory
LOG_DIR=./logs

# ============================================================================
# SOCKET.IO CONFIGURATION
# ============================================================================
# Enable WebSocket support
SOCKETIO_ENABLED=true

# WebSocket transports
SOCKETIO_TRANSPORTS=websocket,polling

# ============================================================================
# FRONTEND URL
# ============================================================================
FRONTEND_URL=http://localhost:5173

# ============================================================================
# ADMIN CONFIGURATION
# ============================================================================
# Default admin user (created on first migration)
ADMIN_EMAIL=admin@example.com
ADMIN_USERNAME=admin
ADMIN_PASSWORD=ChangeThisSecurePassword123!

# ============================================================================
# FEATURE FLAGS
# ============================================================================
# Enable/disable features
FEATURE_EMAIL_VERIFICATION=false
FEATURE_TWO_FACTOR_AUTH=false
FEATURE_SOCIAL_LOGIN=false
FEATURE_FILE_UPLOADS=true
FEATURE_WEBSOCKETS=true

# ============================================================================
# EXTERNAL SERVICES (Optional)
# ============================================================================
# Redis (for caching, session management)
REDIS_URL=redis://localhost:6379

# AWS S3 (for file storage)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1
AWS_S3_BUCKET=

# Sentry (for error tracking)
SENTRY_DSN=

# Google Analytics
GA_TRACKING_ID=

# ============================================================================
# DATABASE MIGRATION
# ============================================================================
RUN_MIGRATIONS_ON_START=false
